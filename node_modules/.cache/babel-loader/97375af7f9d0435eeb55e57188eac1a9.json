{"ast":null,"code":"import _slicedToArray from\"D:\\\\mernproj\\\\projfrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Base from'../core/Base';import{Link}from'react-router-dom';import{isAuthenticated}from'../auth/helper';import{getAllProducts,deleteProduct}from'./helper/adminapicall';var ManageProducts=function ManageProducts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var preLoad=function preLoad(){getAllProducts().then(function(data){if(data.error){console.log(data.error);}else{setProducts(data);}});};useEffect(function(){preLoad();},[]);var removeProduct=function removeProduct(productId){//  console.log(productId,\"- \",user._id,\" ***  \",token  )\ndeleteProduct(productId,user._id,token).then(function(data){if(data.error){console.log(data.error);}else{{preLoad();}}});};return/*#__PURE__*/React.createElement(Base,{title:\"Welcome admin\",description:\"Manage products here\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-4\"},\"All products:\"),/*#__PURE__*/React.createElement(Link,{className:\"btn btn-info\",to:\"/admin/dashboard\"},/*#__PURE__*/React.createElement(\"span\",{className:\"\"},\"Admin Home\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center text-white my-3\"},\"Total \",products.length,\" Products\"),products.map(function(product,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"row text-center mb-2 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"text-white text-left\"},product.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(Link,{className:\"btn btn-success\",to:\"/admin/product/update/\".concat(product._id)},/*#__PURE__*/React.createElement(\"span\",{className:\"\"},\"Update\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return removeProduct(product._id);},className:\"btn btn-danger\"},\"Delete\")));}))));};export default ManageProducts;","map":{"version":3,"sources":["D:/mernproj/projfrontend/src/admin/ManageProducts.js"],"names":["React","useState","useEffect","Base","Link","isAuthenticated","getAllProducts","deleteProduct","ManageProducts","products","setProducts","user","token","preLoad","then","data","error","console","log","removeProduct","productId","_id","length","map","product","index","name"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAASC,eAAT,KAAgC,gBAAhC,CACA,OAASC,cAAT,CAAyBC,aAAzB,KAA8C,uBAA9C,CAGA,GAAMC,CAAAA,cAAc,CAAE,QAAhBA,CAAAA,cAAgB,EAAI,eAEUP,QAAQ,CAAC,EAAD,CAFlB,wCAEfQ,QAFe,eAELC,WAFK,oCAIFL,eAAe,EAJb,CAIfM,IAJe,kBAIfA,IAJe,CAIVC,KAJU,kBAIVA,KAJU,CAMtB,GAAMC,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,EAAI,CACdP,cAAc,GAAGQ,IAAjB,CAAsB,SAAAC,IAAI,CAAE,CACxB,GAAGA,IAAI,CAACC,KAAR,CAAc,CACVC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACH,CAFD,IAGI,CACAN,WAAW,CAACK,IAAD,CAAX,CACH,CACJ,CAPD,EAQH,CATD,CAWAb,SAAS,CAAC,UAAI,CACVW,OAAO,GACV,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAMM,CAAAA,aAAa,CAAC,QAAdA,CAAAA,aAAc,CAAAC,SAAS,CAAE,CAC7B;AACEb,aAAa,CAACa,SAAD,CAAWT,IAAI,CAACU,GAAhB,CAAoBT,KAApB,CAAb,CAAwCE,IAAxC,CAA6C,SAAAC,IAAI,CAAE,CAC/C,GAAGA,IAAI,CAACC,KAAR,CAAc,CACVC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACH,CAFD,IAGI,CACA,CAACH,OAAO,GAAG,CACd,CACJ,CAPD,EASH,CAXD,CAaA,mBACI,oBAAC,IAAD,EAAM,KAAK,CAAC,eAAZ,CAA4B,WAAW,CAAC,sBAAxC,eACF,0BAAI,SAAS,CAAC,MAAd,kBADE,cAEF,oBAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,mBAAjC,eACE,4BAAM,SAAS,CAAC,EAAhB,eADF,CAFE,cAKF,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,QAAf,eACE,0BAAI,SAAS,CAAC,6BAAd,WAAmDJ,QAAQ,CAACa,MAA5D,aADF,CAEQb,QAAQ,CAACc,GAAT,CAAa,SAACC,OAAD,CAASC,KAAT,CAAiB,CAAC,mBAC/B,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,uBAA3B,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,0BAAI,SAAS,CAAC,sBAAd,EAAsCD,OAAO,CAACE,IAA9C,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,OAAf,eACI,oBAAC,IAAD,EACI,SAAS,CAAC,iBADd,CAEI,EAAE,iCAA2BF,OAAO,CAACH,GAAnC,CAFN,eAII,4BAAM,SAAS,CAAC,EAAhB,WAJJ,CADJ,CAJJ,cAYI,2BAAK,SAAS,CAAC,OAAf,eAEA,8BAAQ,OAAO,CAAE,yBAAKF,CAAAA,aAAa,CAAEK,OAAO,CAACH,GAAV,CAAlB,EAAjB,CAAqD,SAAS,CAAC,gBAA/D,WAFA,CAZJ,CAD+B,CAmBvB,CAnBR,CAFR,CADF,CALE,CADJ,CAkCH,CApED,CAsEC,cAAeb,CAAAA,cAAf","sourcesContent":["import React ,{useState, useEffect} from 'react';\r\nimport Base from '../core/Base';\r\nimport {Link} from 'react-router-dom'\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { getAllProducts, deleteProduct } from './helper/adminapicall';\r\n\r\n\r\nconst ManageProducts =()=>{\r\n  \r\n    const [products, setProducts] = useState([])\r\n\r\n    const {user,token} =isAuthenticated();\r\n\r\n    const preLoad=()=>{\r\n        getAllProducts().then(data=>{\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }\r\n            else{\r\n                setProducts(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        preLoad()\r\n    },[])\r\n\r\n    const removeProduct=productId=>{\r\n      //  console.log(productId,\"- \",user._id,\" ***  \",token  )\r\n        deleteProduct(productId,user._id,token).then(data=>{\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }\r\n            else{\r\n                {preLoad()}\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total {products.length} Products</h2>\r\n           {    products.map((product,index)=>{return (\r\n                <div key={index} className=\"row text-center mb-2 \">\r\n                    <div className=\"col-4\">\r\n                        <h3 className=\"text-white text-left\">{product.name}</h3>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        <Link\r\n                            className=\"btn btn-success\"\r\n                            to={`/admin/product/update/${product._id}`}\r\n                            >\r\n                            <span className=\"\">Update</span>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                    \r\n                    <button onClick={()=>(removeProduct( product._id ))} className=\"btn btn-danger\">\r\n                             Delete\r\n                    </button>\r\n                    </div>\r\n                </div>)})}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n    )\r\n\r\n}\r\n\r\n export default ManageProducts;"]},"metadata":{},"sourceType":"module"}