{"ast":null,"code":"import _slicedToArray from\"D:\\\\mernproj\\\\projfrontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Base from'../core/Base';import{Link}from'react-router-dom';import{isAuthenticated}from'../auth/helper';import{getCategory,deleteCategory,getCategories}from'./helper/adminapicall';var ManageCategory=function ManageCategory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),categories=_useState2[0],setCategories=_useState2[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var preLoad=function preLoad(){getCategories().then(function(data){if(data.error){console.log(data.error);}else{setCategories(data);}});};useEffect(function(){preLoad();},[]);var removeCategory=function removeCategory(categoryId){//  console.log(productId,\"- \",user._id,\" ***  \",token  )\ndeleteCategory(categoryId,user._id,token).then(function(data){if(data.error){console.log(data.error);}else{{preLoad();}}});};return/*#__PURE__*/React.createElement(Base,{title:\"Manage Category\",description:\"manage catogries here\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"mb-4\"},\"All Categories:\"),/*#__PURE__*/React.createElement(Link,{className:\"btn btn-info\",to:\"/admin/dashboard\"},/*#__PURE__*/React.createElement(\"span\",{className:\"\"},\"Admin Home\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-12\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center text-white my-3\"},\"Total \",categories.length,\" Categories\"),categories.map(function(cate,index){return/*#__PURE__*/React.createElement(\"div\",{key:index,className:\"row text-center mb-2 \"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"text-white text-left\"},cate.name)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(Link,{className:\"btn btn-success\",to:\"/admin/category/\".concat(cate._id)},/*#__PURE__*/React.createElement(\"span\",{className:\"\"},\"Update\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"col-4\"},/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return removeCategory(cate._id);},className:\"btn btn-danger\"},\"Delete\")));}))));};export default ManageCategory;","map":{"version":3,"sources":["D:/mernproj/projfrontend/src/admin/ManageCategories.js"],"names":["React","useState","useEffect","Base","Link","isAuthenticated","getCategory","deleteCategory","getCategories","ManageCategory","categories","setCategories","user","token","preLoad","then","data","error","console","log","removeCategory","categoryId","_id","length","map","cate","index","name"],"mappings":"sJAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,IAAP,KAAiB,cAAjB,CACA,OAAQC,IAAR,KAAmB,kBAAnB,CACA,OAASC,eAAT,KAAgC,gBAAhC,CACA,OAASC,WAAT,CAAsBC,cAAtB,CAAsCC,aAAtC,KAA0D,uBAA1D,CAGA,GAAMC,CAAAA,cAAc,CAAE,QAAhBA,CAAAA,cAAgB,EAAI,eAEcR,QAAQ,CAAC,EAAD,CAFtB,wCAEfS,UAFe,eAEHC,aAFG,oCAIFN,eAAe,EAJb,CAIfO,IAJe,kBAIfA,IAJe,CAIVC,KAJU,kBAIVA,KAJU,CAMtB,GAAMC,CAAAA,OAAO,CAAC,QAARA,CAAAA,OAAQ,EAAI,CACdN,aAAa,GAAGO,IAAhB,CAAqB,SAAAC,IAAI,CAAE,CACvB,GAAGA,IAAI,CAACC,KAAR,CAAc,CACVC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACH,CAFD,IAGI,CACAN,aAAa,CAACK,IAAD,CAAb,CACH,CACJ,CAPD,EAQH,CATD,CAWAd,SAAS,CAAC,UAAI,CACVY,OAAO,GACV,CAFQ,CAEP,EAFO,CAAT,CAIA,GAAMM,CAAAA,cAAc,CAAC,QAAfA,CAAAA,cAAe,CAAAC,UAAU,CAAE,CAC/B;AACEd,cAAc,CAACc,UAAD,CAAYT,IAAI,CAACU,GAAjB,CAAqBT,KAArB,CAAd,CAA0CE,IAA1C,CAA+C,SAAAC,IAAI,CAAE,CACjD,GAAGA,IAAI,CAACC,KAAR,CAAc,CACVC,OAAO,CAACC,GAAR,CAAYH,IAAI,CAACC,KAAjB,EACH,CAFD,IAGI,CACA,CAACH,OAAO,GAAG,CACd,CACJ,CAPD,EASH,CAXD,CAaA,mBACI,oBAAC,IAAD,EAAM,KAAK,CAAC,iBAAZ,CAA8B,WAAW,CAAC,uBAA1C,eACF,0BAAI,SAAS,CAAC,MAAd,oBADE,cAEF,oBAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,mBAAjC,eACE,4BAAM,SAAS,CAAC,EAAhB,eADF,CAFE,cAKF,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,QAAf,eACE,0BAAI,SAAS,CAAC,6BAAd,WAAmDJ,UAAU,CAACa,MAA9D,eADF,CAEQb,UAAU,CAACc,GAAX,CAAe,SAACC,IAAD,CAAMC,KAAN,CAAc,CAAC,mBAC9B,2BAAK,GAAG,CAAEA,KAAV,CAAiB,SAAS,CAAC,uBAA3B,eACI,2BAAK,SAAS,CAAC,OAAf,eACI,0BAAI,SAAS,CAAC,sBAAd,EAAsCD,IAAI,CAACE,IAA3C,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,OAAf,eACI,oBAAC,IAAD,EACI,SAAS,CAAC,iBADd,CAEI,EAAE,2BAAqBF,IAAI,CAACH,GAA1B,CAFN,eAII,4BAAM,SAAS,CAAC,EAAhB,WAJJ,CADJ,CAJJ,cAYI,2BAAK,SAAS,CAAC,OAAf,eAEA,8BAAQ,OAAO,CAAE,yBAAKF,CAAAA,cAAc,CAAEK,IAAI,CAACH,GAAP,CAAnB,EAAjB,CAAmD,SAAS,CAAC,gBAA7D,WAFA,CAZJ,CAD8B,CAmBtB,CAnBR,CAFR,CADF,CALE,CADJ,CAkCH,CApED,CAsEC,cAAeb,CAAAA,cAAf","sourcesContent":["import React ,{useState, useEffect} from 'react';\r\nimport Base from '../core/Base';\r\nimport {Link} from 'react-router-dom'\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { getCategory, deleteCategory ,getCategories} from './helper/adminapicall';\r\n\r\n\r\nconst ManageCategory =()=>{\r\n  \r\n    const [categories, setCategories] = useState([])\r\n\r\n    const {user,token} =isAuthenticated();\r\n\r\n    const preLoad=()=>{\r\n        getCategories().then(data=>{\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }\r\n            else{\r\n                setCategories(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        preLoad()\r\n    },[])\r\n\r\n    const removeCategory=categoryId=>{\r\n      //  console.log(productId,\"- \",user._id,\" ***  \",token  )\r\n        deleteCategory(categoryId,user._id,token).then(data=>{\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }\r\n            else{\r\n                {preLoad()}\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Manage Category\" description=\"manage catogries here\">\r\n      <h2 className=\"mb-4\">All Categories:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total {categories.length} Categories</h2>\r\n           {    categories.map((cate,index)=>{return (\r\n                <div key={index} className=\"row text-center mb-2 \">\r\n                    <div className=\"col-4\">\r\n                        <h3 className=\"text-white text-left\">{cate.name}</h3>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        <Link\r\n                            className=\"btn btn-success\"\r\n                            to={`/admin/category/${cate._id}`}\r\n                            >\r\n                            <span className=\"\">Update</span>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                    \r\n                    <button onClick={()=>(removeCategory( cate._id ))} className=\"btn btn-danger\">\r\n                             Delete\r\n                    </button>\r\n                    </div>\r\n                </div>)})}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n    )\r\n\r\n}\r\n\r\n export default ManageCategory;"]},"metadata":{},"sourceType":"module"}