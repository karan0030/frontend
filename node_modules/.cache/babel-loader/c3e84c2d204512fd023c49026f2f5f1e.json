{"ast":null,"code":"var _jsxFileName = \"D:\\\\mernproj\\\\projfrontend\\\\src\\\\admin\\\\UpdateCategory.js\";\nimport React, { useState, useEffect } from 'react';\nimport Base from '../core/Base';\nimport { Link } from 'react-router-dom';\nimport { getCategory, updateCategory } from './helper/adminapicall';\nimport { isAuthenticated } from '../auth/helper';\n\nconst UpdateCategory = ({\n  match\n}) => {\n  const {\n    user,\n    token\n  } = isAuthenticated();\n  const [values, setValues] = useState({\n    name: \"\",\n    getRedirect: false,\n    formData: \"\",\n    error: \"\",\n    loading: false,\n    createdCategory: \"\"\n  });\n  const {\n    name,\n    error,\n    getRedirect,\n    formData,\n    loading,\n    createdCategory\n  } = values;\n\n  const preload = categoryId => {\n    getCategory(categoryId).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: error.data\n        });\n      } else {\n        setValues({ ...values,\n          name: data.name,\n          formData: new FormData()\n        });\n        console.log(data.name);\n      }\n    }).catch(err => console.log(err));\n  };\n\n  useEffect(() => {\n    preload(match.params.categoryId);\n  }, []);\n\n  const handleChange = name => event => {\n    const value = name === \"\" ? \"\" : event.target.value;\n    formData.set(name, value);\n    setValues({ ...values,\n      [name]: event.target.value\n    });\n  };\n\n  const onSubmit = event => {\n    event.preventDefault();\n    setValues({ ...values,\n      error: \"\",\n      loading: true\n    });\n    updateCategory(match.params.categoryId, user._id, token, formData).then(data => {\n      if (data.error) {\n        setValues({ ...values,\n          error: data.error\n        });\n      } else {\n        setValues({ ...values,\n          name: \"\",\n          loading: false,\n          createdCategory: data.name\n        });\n      }\n    });\n  };\n\n  const successMessage = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"alert alert-success mt-3\",\n    style: {\n      display: createdCategory ? \"\" : \"none\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, createdCategory, \" Updated\"));\n\n  const warningMessage = () => {\n    if (error) {\n      return /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"text-warning\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 20\n        }\n      }, \"Update failed !!!! \");\n    }\n  };\n\n  const createProductForm = () => /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    onChange: handleChange(\"name\"),\n    name: \"name\",\n    className: \"form-control\",\n    placeholder: \"Name\",\n    required: true,\n    value: name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    onClick: onSubmit,\n    className: \"btn btn-outline-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Update Category\"));\n\n  return /*#__PURE__*/React.createElement(Base, {\n    title: \"Update Category\",\n    description: \"update category here\",\n    className: \"container bg-info p-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/admin/dashboard\",\n    className: \"btn btn-md btn-dark mb-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 10\n    }\n  }, \" Admin Home\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row bg-dark text-white rounded\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-8 offset-md-2 mb-3 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 10\n    }\n  }, successMessage(), warningMessage(), createProductForm())));\n};\n\nexport default UpdateCategory;","map":{"version":3,"sources":["D:/mernproj/projfrontend/src/admin/UpdateCategory.js"],"names":["React","useState","useEffect","Base","Link","getCategory","updateCategory","isAuthenticated","UpdateCategory","match","user","token","values","setValues","name","getRedirect","formData","error","loading","createdCategory","preload","categoryId","then","data","FormData","console","log","catch","err","params","handleChange","event","value","target","set","onSubmit","preventDefault","_id","successMessage","display","warningMessage","createProductForm"],"mappings":"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","sourcesContent":["import React ,{useState,useEffect} from 'react';\r\nimport Base from '../core/Base';\r\nimport {Link } from 'react-router-dom'\r\nimport {getCategory, updateCategory} from './helper/adminapicall'\r\nimport { isAuthenticated } from '../auth/helper';\r\n\r\n\r\n\r\nconst UpdateCategory=({match})=>{\r\n\r\nconst {user,token}= isAuthenticated();\r\n    const [values,setValues] =useState({\r\n        name:\"\",\r\n       \r\n        getRedirect:false,\r\n        formData:\"\",\r\n        error:\"\",\r\n        loading:false,\r\n        createdCategory:\"\"\r\n\r\n    });\r\n   \r\n    const { \r\n            name,error,getRedirect,formData,loading,createdCategory\r\n           }= values;\r\n\r\n    const preload =(categoryId)=>{\r\n        getCategory(categoryId).then(data=>{\r\n           \r\n            if(data.error){\r\n                setValues({...values,error:error.data})\r\n            }\r\n            else{\r\n                setValues({\r\n                    ...values,\r\n                     name:data.name,\r\n                     formData:new FormData\r\n                     \r\n                })\r\n                \r\n                console.log(data.name);\r\n            }\r\n        }).catch(err=>console.log(err))\r\n    }  \r\n    \r\n    \r\n\r\n    useEffect(() => {\r\n        preload(match.params.categoryId)\r\n       \r\n    }, [])\r\n\r\n   \r\n    const handleChange =name=>event=>{\r\n      const value= name===\"\"?\"\":event.target.value\r\n      formData.set(name,value)\r\n      setValues({...values,[name]:event.target.value})\r\n  }\r\n\r\n    const onSubmit=(event)=>{\r\n        event.preventDefault();\r\n        setValues({...values,error:\"\",loading:true});\r\n        updateCategory(match.params.categoryId,user._id,token,formData).then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error:data.error})\r\n            }\r\n            else{\r\n                setValues({...values,\r\n                    name:\"\",\r\n                    \r\n                    loading:false,\r\n                    createdCategory:data.name})\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    const successMessage=()=>(\r\n        <div className=\"alert alert-success mt-3\" style={{display : createdCategory?\"\":\"none\"}}>\r\n        <h4>{createdCategory} Updated</h4>\r\n        </div>\r\n           \r\n    \r\n       \r\n    )\r\n\r\n    const warningMessage=()=>{\r\n        if(error){\r\n            return <h4 className=\"text-warning\">Update failed !!!! </h4>\r\n        }\r\n       \r\n    }\r\n\r\n    const createProductForm = () => (\r\n        <form >\r\n         \r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"name\")}\r\n              name=\"name\"\r\n              className=\"form-control\"\r\n              placeholder=\"Name\"required\r\n              value={name}\r\n            />\r\n          </div>\r\n          \r\n          \r\n          <button type=\"submit\" onClick={onSubmit} className=\"btn btn-outline-success\">\r\n            Update Category\r\n          </button>\r\n        </form>\r\n      );\r\n\r\n\r\n\r\n    return(\r\n        <Base title=\"Update Category\" description=\"update category here\" className=\"container bg-info p-4\">\r\n         <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-4\"> Admin Home</Link>\r\n         <div className=\"row bg-dark text-white rounded\">\r\n         <div className=\"col-md-8 offset-md-2 mb-3 mt-3\">\r\n         {successMessage()}\r\n         {warningMessage()}\r\n          {createProductForm ()}\r\n         </div>\r\n         </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default UpdateCategory;"]},"metadata":{},"sourceType":"module"}