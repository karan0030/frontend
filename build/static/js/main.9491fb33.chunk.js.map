{"version":3,"sources":["backend.js","auth/helper/index.js","core/Menu.js","core/Base.js","core/helper/Imagehelper.js","core/card.js","core/helper/cardHelper.js","core/helper/coreapicalls.js","core/Home.js","user/Signup.js","user/Signin.js","auth/helper/AdminRoutes.js","user/UserDashBoard.js","user/AdminDashBoard.js","auth/helper/PrivateRoutes.js","admin/helper/adminapicall.js","admin/AddCategory.js","admin/AddProduct.js","admin/ManageProducts.js","admin/UpdateProduct.js","admin/ManageCategories.js","admin/UpdateCategory.js","core/helper/PaymentHelper.js","core/Paymentb.js","core/helper/OrderHelper.js","core/cart.js","Routes.js","index.js"],"names":["API","process","isAuthenticated","window","localStorage","getItem","JSON","parse","CurrentTab","history","path","location","pathname","color","withRouter","className","style","to","user","role","onClick","next","removeItem","fetch","method","then","response","console","log","catch","err","signout","push","Base","title","description","children","Imagehelper","product","imgurl","_id","src","alt","maxHeight","maxWidth","Card","addtocart","removefromCart","reload","undefined","setReload","f","useState","redirect","setRedirect","count","addToCart","item","cart","setItem","stringify","addItemCard","cardTitle","name","cardDescription","cardPrice","price","getRedirect","showaddtoCart","productId","map","i","splice","removeItemFromCart","showremoveFromCart","require","Home","products","setProducts","setError","LoadAllProducts","json","error","data","useEffect","index","key","SignUp","email","password","success","values","setValues","handleChange","event","target","value","onSubmit","preventDefault","headers","Accept","body","passowrd","display","onChange","type","SignIn","didRedirect","loading","signin","authenticate","AdminRoute","Component","component","rest","render","props","state","from","UserDashBoard","AdminDashBoard","PrivateRoute","getCategories","deleteCategory","categoryId","userId","token","Authorization","AddCategory","setName","setSuccess","category","createCategory","placeholder","required","autoFocus","successMessage","warningMessage","AddProduct","stock","photo","formData","categories","createdProduct","FormData","files","set","createProduct","accept","cate","ManageProducts","preLoad","removeProduct","deleteProduct","length","UpdateProduct","match","preload","getProduct","getAllCategories","params","updateProduct","ManageCategory","setCategories","UpdateCategory","namex","createdCategory","getCategory","updateCategory","PaymentB","clientToken","instance","info","setInfo","getToken","userid","getmeToken","onPurchase","requestPaymentMethod","paymentData","paymentMethodNonce","nonce","amount","getAmount","paymentInfo","processPayment","orderData","transaction_id","transaction","id","order","createOrder","sessionStorage","emptyCart","p","options","authorization","onInstance","Cart","loadCart","loadAllProucts","Routes","exact","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.9491fb33.chunk.js","sourcesContent":[" export const API =process.env.REACT_APP_BACKEND","import {API} from \"../../backend\"\r\nimport { useState } from 'react'\r\n\r\nexport const signup =user=>{\r\n\r\n    return fetch(`${API}/signup`,{\r\n        method:'POST',\r\n        headers:{\r\n            Accept:'application/json',\r\n            'Content-Type':'application/json'\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n    .then(response=>{\r\n         return response.json()\r\n    })\r\n    .catch(err=>{\r\n        return console.log(err)\r\n    })\r\n}\r\n\r\nexport const signin =user=>{\r\n    return fetch(`${API}/signin`,{\r\n        method:'POST',\r\n        headers:{\r\n            Accept:'application/json',\r\n            'Content-Type':'application/json'\r\n        },\r\n        body:JSON.stringify(user)\r\n    })\r\n    .then(response=>{\r\n         return response.json()\r\n    })\r\n    .catch(err=>{\r\n        return console.log(err)\r\n    })\r\n}\r\n\r\nexport const authenticate =(data,next)=>{\r\n    if(typeof window !== \"undefined\"){\r\n        localStorage.setItem(\"jwt\",JSON.stringify(data))\r\n        next();\r\n    }\r\n\r\n}\r\n\r\nexport const signout =next=>{\r\n    if(typeof window !== \"undefined\"){\r\n        localStorage.removeItem(\"jwt\")\r\n        next();\r\n       return fetch(`${API}/signout`,\r\n       {\r\n        method:'GET'\r\n    })\r\n    .then(response=>{\r\n         return console.log(\"sign out success\")\r\n    })\r\n    .catch(err=>{\r\n        return console.log(err)\r\n    })\r\n}\r\n}\r\n\r\n\r\nexport const isAuthenticated= ()=>{\r\n    if(typeof window == 'undefined'){\r\n        return false\r\n    }\r\n    if(localStorage.getItem(\"jwt\")){\r\n        return JSON.parse(localStorage.getItem(\"jwt\"))\r\n    }\r\n    else{\r\n        return false\r\n    }\r\n}","import React, { Fragment } from 'react';\r\nimport {Link,withRouter}from 'react-router-dom'\r\nimport {signout,isAuthenticated} from '../auth/helper'\r\n\r\nconst CurrentTab =(history,path)=>{\r\n    if(history.location.pathname === path){\r\n        return {color:'#2ecc72'}\r\n    }\r\n    else\r\n    return {color:'#ffffff'}\r\n}\r\n\r\nconst Menu =({history})=>(\r\n    <div>\r\n        <ul className=\"nav nav-tabs bg-dark\">\r\n           <li className=\"nav-item\">\r\n               <Link style={CurrentTab(history,\"/\")} className=\"nav-link\" to=\"/\">\r\n                Home\r\n                </Link>\r\n           </li>\r\n           <li className=\"nav-item\">\r\n               <Link style={CurrentTab(history,\"/cart\")} className=\"nav-link\" to=\"/cart\">\r\n                Cart\r\n                </Link>\r\n           </li>\r\n            {isAuthenticated()&&isAuthenticated().user.role===0 &&(\r\n                <li className=\"nav-item\">\r\n                <Link style={CurrentTab(history,\"/user/dashboard\")}className=\"nav-link\" to=\"/user/dashboard\">\r\n                 Dashboard\r\n                 </Link>\r\n            </li>\r\n            )\r\n\r\n            }\r\n           {isAuthenticated()&& isAuthenticated().user.role===1 &&(\r\n               \r\n           <li className=\"nav-item\">\r\n           <Link style={CurrentTab(history,\"/admin/dashboard\")}className=\"nav-link\" to=\"/admin/dashboard\">\r\n            A.Dashboard\r\n            </Link>\r\n       </li>\r\n           )\r\n\r\n           }\r\n          \r\n           {!isAuthenticated() && (\r\n            <Fragment>\r\n            <li className=\"nav-item\">\r\n            <Link style={CurrentTab(history,\"/signin\")}className=\"nav-link\" to=\"/signin\">\r\n             SignIn\r\n             </Link>\r\n        </li>\r\n        <li className=\"nav-item\">\r\n            <Link style={CurrentTab(history,\"/signup\")}className=\"nav-link\" to=\"/signup\">\r\n             SignUp\r\n             </Link>\r\n        </li>\r\n        </Fragment>\r\n           )}\r\n           \r\n          {isAuthenticated()&&(\r\n            <li className=\"nav-item\">\r\n             <span className=\"nav-link text-warning\"\r\n             onClick={()=>{ \r\n                 signout(()=> { \r\n                     history.push('/')\r\n                    })\r\n                }}\r\n                >\r\n             SignOut</span>\r\n        \r\n        </li>\r\n          )}\r\n           \r\n\r\n        \r\n        </ul>\r\n    </div>\r\n\r\n)\r\n\r\nexport default withRouter(Menu);","import React from \"react\";\r\nimport Menu from './Menu';\r\nimport \"../styles.css\";\r\n\r\nconst Base = ({\r\n  title = \"My Title\",\r\n  description = \"My desription\",\r\n  className = \"bg-dark text-white p-4\",\r\n  children\r\n}) => (\r\n  <div>\r\n  <Menu/>\r\n    <div className=\"container-fluid\">\r\n      <div className=\"jumbotron bg-dark text-white text-center\">\r\n        <h2 className=\"display-4\">{title}</h2>\r\n        <p className=\"lead\">{description}</p>\r\n      </div>\r\n      <div className={className}>{children}</div>\r\n    </div>\r\n    <footer className=\"footer bg-dark mt-auto py-5\">\r\n      <div className=\"container-fluid bg-success text-white text-center py-3\">\r\n        <h4>If you got any questions, feel free to reach out!</h4>\r\n        <button className=\"btn btn-warning btn-lg\">Contact Us</button>\r\n      </div>\r\n      <div className=\"container\">\r\n        <span className=\"text-muted\">\r\n           Site For<span className=\"text-white\">Tshirt</span> ;)\r\n        </span>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n);\r\n\r\nexport default Base;\r\n","import React from 'react';\r\nimport { API } from '../../backend';\r\n\r\nconst Imagehelper=({product})=>{\r\n  const imgurl =product ? `${API}/product/photo/${product._id}`:\"https://images.pexels.com/photos/3561339/pexels-photo-3561339.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940\"\r\n    return (\r\n        <img\r\n        src= {imgurl}\r\n        alt=\"photo\"\r\n        style={{ maxHeight: \"100%\", maxWidth: \"100%\" }}\r\n        className=\"mb-3 rounded\"\r\n      />\r\n    )\r\n}\r\n\r\nexport default Imagehelper;","import React,{useState,useEffect} from 'react'\r\nimport Imagehelper from './helper/Imagehelper';\r\nimport { addItemCard, removeItemFromCart } from './helper/cardHelper';\r\nimport {Redirect} from 'react-router-dom'\r\n\r\n    const Card = (\r\n       { product, addtocart=true, removefromCart=false,reload=undefined,setReload=f=>f}\r\n    ) => {\r\n         \r\n         const [redirect, setRedirect] = useState(false)\r\n         const [count, setCount] = useState(product.count)\r\n         \r\n         const getRedirect=redirect=>{\r\n           if(redirect){\r\n             return <Redirect to=\"/cart\"/>\r\n           }\r\n\r\n         }\r\n         const addToCart=()=>{\r\n           addItemCard(product,()=>setRedirect(true))\r\n         }\r\n\r\n         const cardTitle =product?product.name:\"Coming Soon\"\r\n         const cardDescription =product?product.description:\"Coming Soon\"\r\n         const cardPrice =product?product.price:\" < 20\"\r\n\r\n         const showaddtoCart=(addtocart)=>(\r\n            \r\n          addtocart&& (\r\n            <button\r\n            onClick={addToCart}\r\n            className=\"btn btn-block btn-outline-success mt-2 mb-2\"\r\n          >\r\n            Add to Cart\r\n          </button>\r\n          )\r\n\r\n         )\r\n\r\n         const  showremoveFromCart=removefromCart=>(\r\n           removefromCart&&(\r\n            <button\r\n            onClick={() => { removeItemFromCart(product._id); setReload(!reload)}}\r\n            className=\"btn btn-block btn-outline-danger mt-2 mb-2\"\r\n          >\r\n            Remove from cart\r\n          </button>\r\n\r\n           )\r\n         ) \r\n\r\n\r\n         \r\n\r\n        return (\r\n          <div className=\"card text-white bg-dark border border-info p-1 bm-3 mt-3 \">\r\n            <div className=\"card-header lead\">{cardTitle}</div>\r\n            <div className=\"card-body\">\r\n            {getRedirect(redirect)}\r\n              <div className=\"rounded border border-success p-1\">\r\n                <Imagehelper product={product}/>\r\n              </div>\r\n              <p className=\"lead bg-success font-weight-normal text-wrap\">\r\n                {cardDescription}\r\n              </p>\r\n              <p className=\"btn btn-success rounded  btn-sm px-4\">$ {cardPrice}</p>\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                 {showaddtoCart(addtocart)}\r\n                </div>\r\n                <div className=\"col-12\">\r\n                  {showremoveFromCart(removefromCart)}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      };\r\n\r\n\r\n\r\n\r\n\r\nexport default Card;\r\n","export const addItemCard=(item,next)=>{\r\n  \r\n    let cart=[]\r\n    if(typeof window !==undefined){\r\n        if(localStorage.getItem('cart')){\r\n            cart =JSON.parse(localStorage.getItem('cart'))\r\n\r\n        }\r\n        cart.push({...item,count:1})\r\n        localStorage.setItem('cart',JSON.stringify(cart))\r\n        next()\r\n    }\r\n} \r\n\r\nexport const loadCart=()=>{\r\n    if(typeof window !==undefined){\r\n        if(localStorage.getItem('cart')){\r\n            return JSON.parse(localStorage.getItem('cart'))\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const removeItemFromCart =(productId)=>{\r\n    \r\n    let cart=[]\r\n    if(typeof window !==undefined){\r\n        if(localStorage.getItem('cart')){\r\n            cart =JSON.parse(localStorage.getItem('cart'))\r\n\r\n        }\r\n        cart.map((product,i)=>{\r\n            if(product._id===productId){\r\n                cart.splice(i,1)\r\n            }\r\n        })\r\n        localStorage.setItem('cart',JSON.stringify(cart))\r\n         return cart\r\n    }\r\n\r\n}\r\n\r\nexport const emptyCart =next=>{\r\n    if(typeof window !==undefined){\r\n        sessionStorage.removeItem(\"cart\")\r\n         let cart = [];\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    next();\r\n\r\n    }\r\n}","const { API } = require(\"../../backend\");\r\n\r\nexport const getAllProducts = () => {\r\n    return fetch(`${API}/product`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(error => console.log(error));\r\n  };","import React ,{useState,useEffect}from 'react';\r\nimport Base from '../core/Base'\r\n\r\nimport {API } from \"../backend\"\r\nimport Card from './card';\r\nimport { getAllProducts } from './helper/coreapicalls';\r\n\r\n\r\nexport default function Home(){\r\n    \r\n    const [products,setProducts]=useState([]);\r\n    const [error,setError]=useState(\"\");\r\n \r\n    const LoadAllProducts=()=>{\r\n    getAllProducts().then(data=>{\r\n      if(data.error){\r\n        setError(data.error)\r\n      }\r\n      else{\r\n        setProducts(data)\r\n      }\r\n    })\r\n  }\r\n  \r\n  useEffect(() => {\r\n     LoadAllProducts();\r\n  }, [])\r\n    \r\n    return (\r\n        <Base title=\"Home Page\" description=\"welcome to home page\">\r\n        <div className=\"row text-center\">\r\n        <h1 className=\"row text-center text-white\">All T-Shirts</h1>\r\n        <div className=\"row\">\r\n          {products.map((product,index)=>{\r\n            return (\r\n              <div key={index} className=\"col-4 bm-4 mt-4\">\r\n              <Card product={product}/>\r\n              </div>\r\n            )\r\n          })\r\n        }\r\n          </div>\r\n        </div>\r\n      </Base>\r\n  \r\n    )\r\n}","import React, { useState } from \"react\";\r\nimport Base from \"../core/Base\";\r\nimport { Route, Link } from \"react-router-dom\";\r\nimport {  signup } from \"../auth/helper\";\r\n\r\nconst SignUp = () => {\r\n    \r\n        const [values,setValues] =useState({\r\n            name:\"\",\r\n            email:\"\",\r\n            password:\"\",\r\n            error:\"\",\r\n            success:false\r\n        })\r\n    \r\n    const {name,password,email,error,success}=values;\r\n\r\n    const handleChange =name=>event=>{\r\n        setValues({...values,error:false,[name]:event.target.value})\r\n    }\r\n    \r\n    const onSubmit =event=>{\r\n        event.preventDefault()\r\n        setValues({...values,error:false})\r\n        signup({name,email,password})\r\n        .then(data=>{\r\n            if(data.error){\r\n                setValues({...values ,error:data.error,success:false})\r\n            }\r\n            else{\r\n                setValues({...values,error:\"\",name:\"\",passowrd:\"\",success:true})\r\n\r\n            }\r\n        })\r\n        .catch(console.log(\"error in sign up\"))\r\n    }\r\n\r\n\r\n\r\n    const SignUpForm = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <form>\r\n                        <div className='form-group'>\r\n                            <label className=\"text-light\">User name</label>\r\n                            <input \r\n                            className='form-control' onChange={handleChange(\"name\")} \r\n                            type=\"text\" value={name}></input>\r\n                        </div>\r\n                        <div className='form-group'>\r\n                            <label className=\"text-light\">Email</label>\r\n                            <input\r\n                             className='form-control'onChange={handleChange(\"email\")}\r\n                              type=\"text\" value={email}></input>\r\n                        </div>\r\n                        <div className='form-group'>\r\n                            <label className=\"text-light\">password</label>\r\n                            <input \r\n                            className='form-control'onChange={handleChange(\"password\")} \r\n                            type=\"password\" value={password}></input>\r\n                        </div>\r\n                        <button className=\"btn btn-success btn-block \" onClick={onSubmit}>Submit</button>\r\n                    </form>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n const successMessage = () => {\r\n    return (\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-sm-3 text-left\">\r\n            <div\r\n              className=\"alert alert-success\"\r\n              style={{ display: success ? \"\" : \"none\" }}\r\n            >\r\n              New account was created successfully. Please{\" \"}\r\n              <Link to=\"/signin\">Login Here</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n  \r\n    const errorMessage = () => {\r\n      return (\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-sm-3 text-left\">\r\n            <div\r\n              className=\"alert alert-danger\"\r\n              style={{ display: error ? \"\" : \"none\" }}\r\n            >\r\n              {error}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n\r\n    return (\r\n        <Base title=\"Sign up\" description=\"Signup  for user\">\r\n         \r\n        {successMessage()}\r\n        {errorMessage()} \r\n        {SignUpForm()}\r\n        \r\n            <p className=\"text-white text-center\">{JSON.stringify(values)}</p>\r\n        </Base>\r\n    );\r\n};\r\n\r\nexport default SignUp;\r\n","import React, { useState } from 'react';\r\nimport Base from '../core/Base';\r\nimport {  Link,Redirect } from 'react-router-dom'\r\nimport {  signin ,isAuthenticated, authenticate } from \"../auth/helper\";\r\n\r\n\r\nconst SignIn = () => {\r\n\r\n    const [values,setValues] =useState({\r\n        \r\n        email:\"\",\r\n        password:\"\",\r\n        error:\"\",\r\n        didRedirect:false,\r\n        loading:false\r\n\r\n    })\r\n\r\nconst {password,email,error,didRedirect,loading}=values;\r\nconst {user}  = isAuthenticated()\r\n\r\nconst handleChange =name=>event=>{\r\n    setValues({...values,error:false,[name]:event.target.value})\r\n}\r\n\r\nconst onSubmit =event=>{\r\n    event.preventDefault()\r\n    setValues({...values,error:false,loading:true})\r\n    signin({email,password})\r\n    .then(data=>{\r\n        if(data.error){\r\n            setValues({...values ,error:data.error,loading:false})\r\n        }\r\n        else{\r\n\r\n            authenticate(data,()=>{\r\n                setValues({...values,didRedirect:true})\r\n            })\r\n           \r\n\r\n        }\r\n    })\r\n    .catch(console.log(\"error in sign in \"))\r\n}\r\nconst redirect =()=>{\r\n    if(didRedirect){\r\n        if(user && user.role===1){\r\n            return <Redirect to=\"admin/dashboard\"/>\r\n        }\r\n        return <Redirect to=\"user/dashboard\"/>\r\n\r\n    }\r\n    if( isAuthenticated())\r\n    {\r\n        return   <Redirect to=\"/\"/>\r\n\r\n    }\r\n}\r\n\r\nconst loadingMessage = () => {\r\n    return (\r\n        loading && (\r\n            <div className=\"alert alert-info\">\r\n            <h2>Loading......</h2>\r\n            </div>\r\n        )\r\n      );\r\n    };\r\n  \r\n    const errorMessage = () => {\r\n      return (\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-sm-3 text-left\">\r\n            <div\r\n              className=\"alert alert-danger\"\r\n              style={{ display: error ? \"\" : \"none\" }}\r\n            >\r\n              {error}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n\r\n    const SignInForm = () => {\r\n        return (\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 offset-sm-3 text-left\">\r\n                    <form>\r\n                       \r\n                        <div className='form-group'>\r\n                            <label className=\"text-light\">Email</label>\r\n                            <input value={email}className='form-control' \r\n                            onChange={handleChange(\"email\")} type=\"text\"></input>\r\n                        </div>\r\n                        <div className='form-group'>\r\n                            <label className=\"text-light\">password</label>\r\n                            <input\r\n                            onChange={handleChange(\"password\")}  value={password}\r\n                             className='form-control' type=\"password\"></input>\r\n                        </div>\r\n                        <button className=\"btn btn-success btn-block \" onClick={onSubmit} >Submit</button>\r\n                    </form>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        )\r\n    }\r\n    return (\r\n        <Base title=\"Sign In\" description='SignIn  for user'>\r\n    \r\n         {loadingMessage()}\r\n         {errorMessage()}\r\n        {SignInForm()}\r\n        {redirect()}\r\n        <p className=\"text-center text-white\">pp {JSON.stringify({values})}</p>\r\n        \r\n        </Base>\r\n\r\n    )\r\n}\r\n\r\nexport default SignIn;","import React from 'react';\r\nimport {Route ,Redirect} from 'react-router-dom'\r\nimport { isAuthenticated } from '.';\r\n\r\nconst AdminRoute =({ component :Component, ...rest }) =>{\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props=>\r\n          isAuthenticated () && isAuthenticated().user.role===1? (\r\n            <Component {...props}/>\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n  \r\n  export default AdminRoute;","import React from 'react';\r\nimport Base from '../core/Base'\r\nconst UserDashBoard =()=>{\r\n  return(\r\n     <Base  title=\"UserDashBoard\">\r\n     <h1>This UserDashBoard</h1>\r\n     </Base> \r\n  )\r\n}\r\n\r\nexport default UserDashBoard;","import React from 'react';\r\nimport Base from '../core/Base'\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst AdminDashBoard = () => {\r\n  const { user: { name, email, role } } = isAuthenticated();\r\n  \r\n  \r\n  const leftAdmin = () => {\r\n    return (\r\n      <div className=\"card\">\r\n        <h4 className=\"text-white bg-dark card-header\">Admin Navigation</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link text-success\" to='/admin/create/category'>\r\n              Create Category\r\n             </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n          <Link className=\"nav-link text-success\" to='/admin/categories'>\r\n            Manage Category\r\n           </Link>\r\n        </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link text-success\" to='/admin/create/product'>\r\n              Create Products\r\n             </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link text-success\" to='/admin/products'>\r\n              Manage Product\r\n             </Link>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <Link className=\"nav-link text-success\" to='/admin/orders'>\r\n              Manage Order\r\n             </Link>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    )\r\n\r\n  }\r\n  const rightAdmin = () => {\r\n    return (\r\n      <div className=\"card mb-4\">\r\n        <h4 className=\" card-header\">Admin Info</h4>\r\n        <ul className=\"list-group\">\r\n          <li className=\"list-group-item\">\r\n           <h5> <span className=\"badge badge-success mr-2\">Name :</span>{name}</h5>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n            <h5><span className=\"badge badge-success mr-2\">Email :</span>{email}</h5>\r\n          </li>\r\n          <li className=\"list-group-item\">\r\n          <h5>  <span className=\"badge badge-danger mr-2\">Admin Area :</span></h5>\r\n          </li>\r\n          \r\n        </ul>\r\n      </div>\r\n    )\r\n\r\n\r\n  }\r\n  return (\r\n    <Base title=\"Welcome To Admin\" description=\"Manage products here\"\r\n      className=\"container bg-success p-4\">\r\n      <div className=\"row\">\r\n        <div className=\"col-3\">\r\n          {leftAdmin()}\r\n        </div>\r\n        <div className=\"col-5\">\r\n          {rightAdmin()}\r\n        </div>\r\n      </div>\r\n\r\n\r\n    </Base>\r\n  )\r\n\r\n}\r\n\r\nexport default AdminDashBoard;","import React from 'react';\r\nimport {Route ,Redirect} from 'react-router-dom'\r\nimport { isAuthenticated } from '.';\r\n\r\nconst PrivateRoute =({ component :Component, ...rest }) =>{\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props=>\r\n          isAuthenticated ()? (\r\n            <Component {...props}/>\r\n          ) : (\r\n            <Redirect\r\n              to={{\r\n                pathname: \"/signin\",\r\n                state: { from: props.location }\r\n              }}\r\n            />\r\n          )\r\n        }\r\n      />\r\n    );\r\n  }\r\n  \r\n  export default PrivateRoute;","// \r\nimport { API } from \"../../backend\";\r\n\r\nexport const createCategory = (userId, token, category) => {\r\n  return fetch(`${API}/category/create/${userId}`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Accept: \"application/json\",\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${token}`\r\n    },\r\n    body: JSON.stringify(category)\r\n  })\r\n    .then(response => {\r\n      return response.json();\r\n    })\r\n    .catch(err => console.log(err));\r\n};\r\n\r\n// create product\r\n\r\n\r\nexport const createProduct = (userId, token, product) => {\r\n    return fetch(`${API}/product/create/${userId}`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: product\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n // get aproduct\r\n  export const getProduct = productId => {\r\n    return fetch(`${API}/product/${productId}`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n  \r\n // get All product\r\n \r\n export const getAllProducts = () => {\r\n    return fetch(`${API}/product`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(error => console.log(error));\r\n  };\r\n  \r\n  // update a product \r\n  export const updateProduct = (productId,userId, token,product) => {\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n      \r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: product\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n  \r\n\r\n  // delete product\r\n\r\n  export const deleteProduct = (productId, userId, token) => {\r\n    console.log(\"ending\",productId,\" -- \",userId,\"--- \",token )\r\n    return fetch(`${API}/product/${productId}/${userId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n\r\n  export const getCategories = () => {\r\n    return fetch(`${API}/categories`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  export const deleteCategory = (categoryId, userId, token) => {\r\n       \r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${token}`\r\n      }\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  export const updateCategory = (categoryId,userId, token,category) => {\r\n    return fetch(`${API}/category/${categoryId}/${userId}`, {\r\n      method: \"PUT\",\r\n      headers: {\r\n        Accept: \"application/json\",\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${token}`\r\n      },\r\n      body: JSON.stringify(category)\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n\r\n  export const getCategory = categoryId => {\r\n    return fetch(`${API}/category/${categoryId}`, {\r\n      method: \"GET\"\r\n    })\r\n      .then(response => {\r\n        return response.json();\r\n      })\r\n      .catch(err => console.log(err));\r\n  };","import React, { useState } from 'react';\r\nimport Base from '../core/Base';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport {Link} from 'react-router-dom'\r\nimport {createCategory} from './helper/adminapicall'\r\n\r\nconst AddCategory=()=>{\r\n   \r\n     const [name,setName]=useState(\"\");\r\n     const [error,setError]=useState(\"\");\r\n     const [success,setSuccess]=useState(\"\");\r\n     \r\n    const {user,token} =isAuthenticated();\r\n    \r\n    const  handleChange =event=>{\r\n        setError(\"\")\r\n        setName(event.target.value)\r\n        \r\n    }\r\n    const successMessage=()=>{\r\n        if(success){\r\n            return <h4 className=\"text-success\">Category added </h4>\r\n        }\r\n       \r\n    }\r\n\r\n    const warningMessage=()=>{\r\n        if(error){\r\n            return <h4 className=\"text-warning\">Adding creating failed !!!! </h4>\r\n        }\r\n       \r\n    }\r\n    \r\n    const onSubmit =(event)=>{\r\n        event.preventDefault();\r\n        setSuccess(false)\r\n        setError(\"\")\r\n\r\n        createCategory(user._id,token,{name}).then(data=>{\r\n            if(data.error){\r\n                setError(true)\r\n\r\n            }\r\n            else{\r\n                setSuccess(true)\r\n                setName(\"\")\r\n            }\r\n        }).catch(error=>{console.log(\"error in create category\")})\r\n    }\r\n\r\n    const myCategoryForm =()=>(\r\n        <form>\r\n        <div className=\"form-group\">\r\n        <p className=\"lead\" >Enter Category</p>\r\n        <input type=\"text\"\r\n        placeholder=\"Eg summer\"\r\n        required autoFocus\r\n        onChange={handleChange}\r\n        value={name}\r\n        \r\n        \r\n        className=\"form-control my-3\"></input>\r\n        <button onClick={onSubmit} className=\"btn btn-outline-info\">Add Category</button>\r\n        </div>\r\n        </form>\r\n    )\r\n    const goBack= ()=>(\r\n        <div className=\"mt-5\">\r\n        <Link className=\"btn btn-sm btn-success mb-3\" to=\"/admin/dashboard\">Admin Home</Link>\r\n        </div>\r\n    )\r\n    return(\r\n        <Base className=\"container p-4 bg-info\" \r\n        title=\"Create Category Here\" description=\"Add New category\">\r\n        <div className=\"row bg-white rounded\">\r\n        <div className=\"col-md-8 offset-md-2\">\r\n        \r\n        {myCategoryForm()}\r\n       \r\n        {goBack()}\r\n        {successMessage()}\r\n        {warningMessage()}\r\n        </div>\r\n        </div>\r\n\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default AddCategory;","import React ,{useState,useEffect} from 'react';\r\nimport Base from '../core/Base';\r\nimport {Link } from 'react-router-dom'\r\nimport {getCategories, createProduct} from './helper/adminapicall'\r\nimport { isAuthenticated } from '../auth/helper';\r\n\r\n\r\n\r\nconst AddProduct=()=>{\r\n    \r\nconst {user,token}= isAuthenticated();\r\n    const [values,setValues] =useState({\r\n        name:\"\",\r\n        description:\"\",\r\n        price:\"\",\r\n        stock:\"\",\r\n        photo:\"\",\r\n        error:\"\",\r\n        getRedirect:false,\r\n        formData:\"\",\r\n        category:\"\",\r\n        categories:[],\r\n        loading:false,\r\n        createdProduct:\"\"\r\n\r\n    });\r\n   \r\n    const { \r\n            name,description,price,stock,photo,error,getRedirect,formData,category,\r\n            categories,loading,createdProduct\r\n           }= values;\r\n\r\n    const preload =()=>{\r\n        getCategories().then(data=>{\r\n           \r\n            if(data.error){\r\n                setValues({...values,error:error.data})\r\n            }\r\n            else{\r\n                setValues({...values, categories:data, formData:new FormData()})\r\n                console.log(categories.name);\r\n            }\r\n        }).catch(err=>console.log(err))\r\n    }  \r\n    \r\n    useEffect(() => {\r\n        preload()\r\n       \r\n    }, [])\r\n\r\n    const handleChange =name=>event=>{\r\n        const value= name===\"photo\"?event.target.files[0]:event.target.value\r\n        formData.set(name,value)\r\n        setValues({...values,[name]:value})\r\n    }\r\n\r\n    const onSubmit=(event)=>{\r\n        event.preventDefault();\r\n        setValues({...values,error:\"\",loading:true});\r\n        createProduct(user._id,token,formData).then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error:data.error})\r\n            }\r\n            else{\r\n                setValues({...values,\r\n                    name:\"\",\r\n                    description:\"\",\r\n                    price:\"\",\r\n                    stock:\"\",\r\n                    photo:\"\",\r\n                    loading:false,\r\n                    createdProduct:data.name})\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    const successMessage=()=>(\r\n        <div className=\"alert alert-success mt-3\" style={{display : createdProduct?\"\":\"none\"}}>\r\n        <h4>{createdProduct} Created </h4>\r\n        </div>\r\n           \r\n    \r\n       \r\n    )\r\n\r\n    const warningMessage=()=>{\r\n        if(error){\r\n            return <h4 className=\"text-warning\">Adding Product failed !!!! </h4>\r\n        }\r\n       \r\n    }\r\n\r\n    const createProductForm = () => (\r\n        <form >\r\n          <span>Post photo</span>\r\n          <div className=\"form-group\">\r\n            <label className=\"btn btn-block btn-success\">\r\n              <input\r\n                onChange={handleChange(\"photo\")}\r\n                type=\"file\"\r\n                name=\"photo\"\r\n                accept=\"image\"\r\n                required\r\n                placeholder=\"choose a file\"\r\n              />\r\n            </label>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"name\")}\r\n              name=\"photo\"\r\n              className=\"form-control\"\r\n              placeholder=\"Name\"required\r\n              value={name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              onChange={handleChange(\"description\")}\r\n              name=\"photo\"\r\n              className=\"form-control\"\r\n              placeholder=\"Description\"required\r\n              value={description}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"price\")}\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Price\"required\r\n              value={price}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <select\r\n              onChange={handleChange(\"category\")}\r\n              className=\"form-control\"\r\n              placeholder=\"Category\"\r\n            >\r\n              <option>Select</option>\r\n              {\r\n                  categories && categories.map((cate,index)=>(\r\n                      <option key={index} value={cate._id} >{cate.name}</option>\r\n                  ))\r\n              }\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"stock\")}\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Quantity\"\r\n              required\r\n              value={stock}\r\n            />\r\n          </div>\r\n          \r\n          <button type=\"submit\" onClick={onSubmit} className=\"btn btn-outline-success\">\r\n            Create Product\r\n          </button>\r\n        </form>\r\n      );\r\n\r\n\r\n\r\n    return(\r\n        <Base title=\"Add Product\" description=\"add product\" className=\"container bg-info p-4\">\r\n         <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-4\"> Admin Home</Link>\r\n         <div className=\"row bg-dark text-white rounded\">\r\n         <div className=\"col-md-8 offset-md-2 mb-3 mt-3\">\r\n         {successMessage()}\r\n         {warningMessage()}\r\n          {createProductForm ()}\r\n         </div>\r\n         </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default AddProduct;","import React ,{useState, useEffect} from 'react';\r\nimport Base from '../core/Base';\r\nimport {Link} from 'react-router-dom'\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { getAllProducts, deleteProduct } from './helper/adminapicall';\r\n\r\n\r\nconst ManageProducts =()=>{\r\n  \r\n    const [products, setProducts] = useState([])\r\n\r\n    const {user,token} =isAuthenticated();\r\n\r\n    const preLoad=()=>{\r\n        getAllProducts().then(data=>{\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }\r\n            else{\r\n                setProducts(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        preLoad()\r\n    },[])\r\n\r\n    const removeProduct=productId=>{\r\n      //  console.log(productId,\"- \",user._id,\" ***  \",token  )\r\n        deleteProduct(productId,user._id,token).then(data=>{\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }\r\n            else{\r\n                {preLoad()}\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Welcome admin\" description=\"Manage products here\">\r\n      <h2 className=\"mb-4\">All products:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total {products.length} Products</h2>\r\n           {    products.map((product,index)=>{return (\r\n                <div key={index} className=\"row text-center mb-2 \">\r\n                    <div className=\"col-4\">\r\n                        <h3 className=\"text-white text-left\">{product.name}</h3>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        <Link\r\n                            className=\"btn btn-success\"\r\n                            to={`/admin/product/update/${product._id}`}\r\n                            >\r\n                            <span className=\"\">Update</span>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                    \r\n                    <button onClick={()=>(removeProduct( product._id ))} className=\"btn btn-danger\">\r\n                             Delete\r\n                    </button>\r\n                    </div>\r\n                </div>)})}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n    )\r\n\r\n}\r\n\r\n export default ManageProducts;","import React ,{useState,useEffect} from 'react';\r\nimport Base from '../core/Base';\r\nimport {Link } from 'react-router-dom'\r\nimport {getCategories, getProduct,updateProduct} from './helper/adminapicall'\r\nimport { isAuthenticated } from '../auth/helper';\r\n\r\n\r\n\r\nconst UpdateProduct=({match})=>{\r\n    \r\nconst {user,token}= isAuthenticated();\r\n    const [values,setValues] =useState({\r\n        name:\"\",\r\n        description:\"\",\r\n        price:\"\",\r\n        stock:\"\",\r\n        photo:\"\",\r\n        error:\"\",\r\n        getRedirect:false,\r\n        formData:\"\",\r\n        category:\"\",\r\n        categories:[],\r\n        loading:false,\r\n        createdProduct:\"\"\r\n\r\n    });\r\n   \r\n    const { \r\n            name,description,price,stock,photo,error,getRedirect,formData,category,\r\n            categories,loading,createdProduct\r\n           }= values;\r\n\r\n    const preload =(productId)=>{\r\n        getProduct(productId).then(data=>{\r\n           \r\n            if(data.error){\r\n                setValues({...values,error:error.data})\r\n            }\r\n            else{\r\n                getAllCategories()\r\n                //console.log(data.category,\"-- \")\r\n                setValues({\r\n                    ...values,\r\n                     name:data.name,\r\n                     description:data.description,\r\n                     price:data.price,\r\n                     stock:data.stock,\r\n                     photo:data.photo,\r\n                     category:data.category._id,\r\n                     formData:new FormData\r\n                     \r\n                })\r\n                \r\n                console.log(categories.name);\r\n            }\r\n        }).catch(err=>console.log(err))\r\n    }  \r\n    \r\n    const getAllCategories=()=>{\r\n        getCategories().then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error:error.data})\r\n            } \r\n            else{\r\n                setValues({categories:data,formData:new FormData})\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        preload(match.params.productId)\r\n       \r\n    }, [])\r\n\r\n    const handleChange =name=>event=>{\r\n        const value= name===\"photo\"?event.target.files[0]:event.target.value\r\n        formData.set(name,value)\r\n        setValues({...values,[name]:value})\r\n    }\r\n\r\n    const onSubmit=(event)=>{\r\n        event.preventDefault();\r\n        setValues({...values,error:\"\",loading:true});\r\n        updateProduct(match.params.productId,user._id,token,formData).then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error:data.error})\r\n            }\r\n            else{\r\n                setValues({...values,\r\n                    name:\"\",\r\n                    description:\"\",\r\n                    price:\"\",\r\n                    stock:\"\",\r\n                    photo:\"\",\r\n                    loading:false,\r\n                    createdProduct:data.name})\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    const successMessage=()=>(\r\n        <div className=\"alert alert-success mt-3\" style={{display : createdProduct?\"\":\"none\"}}>\r\n        <h4>{createdProduct} Updated</h4>\r\n        </div>\r\n           \r\n    \r\n       \r\n    )\r\n\r\n    const warningMessage=()=>{\r\n        if(error){\r\n            return <h4 className=\"text-warning\">Update failed !!!! </h4>\r\n        }\r\n       \r\n    }\r\n\r\n    const createProductForm = () => (\r\n        <form >\r\n          <span>Post photo</span>\r\n          <div className=\"form-group\">\r\n            <label className=\"btn btn-block btn-success\">\r\n              <input\r\n                onChange={handleChange(\"photo\")}\r\n                type=\"file\"\r\n                name=\"photo\"\r\n                accept=\"image\"\r\n                required\r\n                placeholder=\"choose a file\"\r\n              />\r\n            </label>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"name\")}\r\n              name=\"photo\"\r\n              className=\"form-control\"\r\n              placeholder=\"Name\"required\r\n              value={name}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <textarea\r\n              onChange={handleChange(\"description\")}\r\n              name=\"photo\"\r\n              className=\"form-control\"\r\n              placeholder=\"Description\"required\r\n              value={description}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"price\")}\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Price\"required\r\n              value={price}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <select\r\n              onChange={handleChange(\"category\")}\r\n              className=\"form-control\"\r\n              placeholder=\"Category\"\r\n            >\r\n              <option>Select</option>\r\n              {\r\n                  categories && categories.map((cate,index)=>(\r\n                      <option key={index} value={cate._id} >{cate.name}</option>\r\n                  ))\r\n              }\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange(\"stock\")}\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              placeholder=\"Quantity\"\r\n              required\r\n              value={stock}\r\n            />\r\n          </div>\r\n          \r\n          <button type=\"submit\" onClick={onSubmit} className=\"btn btn-outline-success\">\r\n            Update Product\r\n          </button>\r\n        </form>\r\n      );\r\n\r\n\r\n\r\n    return(\r\n        <Base title=\"Update Product\" description=\"update product here\" className=\"container bg-info p-4\">\r\n         <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-4\"> Admin Home</Link>\r\n         <div className=\"row bg-dark text-white rounded\">\r\n         <div className=\"col-md-8 offset-md-2 mb-3 mt-3\">\r\n         {successMessage()}\r\n         {warningMessage()}\r\n          {createProductForm ()}\r\n         </div>\r\n         </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default UpdateProduct;","import React ,{useState, useEffect} from 'react';\r\nimport Base from '../core/Base';\r\nimport {Link} from 'react-router-dom'\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { getCategory, deleteCategory ,getCategories} from './helper/adminapicall';\r\n\r\n\r\nconst ManageCategory =()=>{\r\n  \r\n    const [categories, setCategories] = useState([])\r\n\r\n    const {user,token} =isAuthenticated();\r\n\r\n    const preLoad=()=>{\r\n        getCategories().then(data=>{\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }\r\n            else{\r\n                setCategories(data)\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        preLoad()\r\n    },[])\r\n\r\n    const removeCategory=categoryId=>{\r\n      //  console.log(productId,\"- \",user._id,\" ***  \",token  )\r\n        deleteCategory(categoryId,user._id,token).then(data=>{\r\n            if(data.error){\r\n                console.log(data.error)\r\n            }\r\n            else{\r\n                {preLoad()}\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    return (\r\n        <Base title=\"Manage Category\" description=\"manage catogries here\">\r\n      <h2 className=\"mb-4\">All Categories:</h2>\r\n      <Link className=\"btn btn-info\" to={`/admin/dashboard`}>\r\n        <span className=\"\">Admin Home</span>\r\n      </Link>\r\n      <div className=\"row\">\r\n        <div className=\"col-12\">\r\n          <h2 className=\"text-center text-white my-3\">Total {categories.length} Categories</h2>\r\n           {    categories.map((cate,index)=>{return (\r\n                <div key={index} className=\"row text-center mb-2 \">\r\n                    <div className=\"col-4\">\r\n                        <h3 className=\"text-white text-left\">{cate.name}</h3>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        <Link\r\n                            className=\"btn btn-success\"\r\n                            to={`/admin/category/${cate._id}`}\r\n                            >\r\n                            <span className=\"\">Update</span>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                    \r\n                    <button onClick={()=>(removeCategory( cate._id ))} className=\"btn btn-danger\">\r\n                             Delete\r\n                    </button>\r\n                    </div>\r\n                </div>)})}\r\n        </div>\r\n      </div>\r\n    </Base>\r\n    )\r\n\r\n}\r\n\r\n export default ManageCategory;","import React ,{useState,useEffect} from 'react';\r\nimport Base from '../core/Base';\r\nimport {Link } from 'react-router-dom'\r\nimport {getCategory, updateCategory} from './helper/adminapicall'\r\nimport { isAuthenticated } from '../auth/helper';\r\n\r\n\r\n\r\nconst UpdateCategory=({match})=>{\r\n\r\n  const[name,setName]=useState(\"\");\r\nconst {user,token}= isAuthenticated();\r\n    const [values,setValues] =useState({\r\n        namex:\"\",\r\n       \r\n        getRedirect:false,\r\n        formData:\"\",\r\n        error:\"\",\r\n        loading:false,\r\n        createdCategory:\"\"\r\n\r\n    });\r\n   \r\n    const { \r\n            namex,error,getRedirect,formData,loading,createdCategory\r\n           }= values;\r\n\r\n    const preload =(categoryId)=>{\r\n        getCategory(categoryId).then(data=>{\r\n           \r\n            if(data.error){\r\n                setValues({...values,error:error.data})\r\n            }\r\n            else{\r\n                \r\n                setValues({\r\n                    ...values,\r\n                     name:data.name,\r\n                     formData:new FormData\r\n                     \r\n                })\r\n                \r\n                console.log(data.name);\r\n            }\r\n        }).catch(err=>console.log(err))\r\n    }  \r\n    \r\n    \r\n\r\n    useEffect(() => {\r\n        preload(match.params.categoryId)\r\n       \r\n    }, [])\r\n   \r\n \r\n    const  handleChange =event=>{\r\n      \r\n      setName(event.target.value)\r\n      \r\n  }\r\n  //   const handleChange =name=>event=>{\r\n  //     const value= name===\"\"?\"\":event.target.value\r\n  //     setValues({name:event.target.value})\r\n  //     setValues({...values,[name]:event.target.value})\r\n  // }\r\n\r\n    const onSubmit=(event)=>{\r\n        event.preventDefault();\r\n        setValues({...values,error:\"\",loading:true});\r\n        console.log(\" setting \",{name},name);\r\n        updateCategory(match.params.categoryId,user._id,token,{name}).then(data=>{\r\n            if(data.error){\r\n                setValues({...values,error:data.error})\r\n            }\r\n            else{\r\n                setValues({...values,\r\n                    name:\"\",\r\n                    \r\n                    loading:false,\r\n                    createdCategory:data.name})\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    const successMessage=()=>(\r\n        <div className=\"alert alert-success mt-3\" style={{display : createdCategory?\"\":\"none\"}}>\r\n        <h4>{createdCategory} Updated</h4>\r\n        </div>\r\n           \r\n    \r\n       \r\n    )\r\n\r\n    const warningMessage=()=>{\r\n        if(error){\r\n            return <h4 className=\"text-warning\">Update failed !!!! </h4>\r\n        }\r\n       \r\n    }\r\n\r\n    const createProductForm = () => (\r\n        <form >\r\n         \r\n          <div className=\"form-group\">\r\n            <input\r\n              onChange={handleChange}\r\n              name=\"newname\"\r\n              className=\"form-control\"\r\n              placeholder=\"Name\"required\r\n              value={name}\r\n            />\r\n          </div>\r\n          \r\n          \r\n          <button type=\"submit\" onClick={onSubmit} className=\"btn btn-outline-success\">\r\n            Update Category\r\n          </button>\r\n        </form>\r\n      );\r\n\r\n\r\n\r\n    return(\r\n        <Base title=\"Update Category\" description=\"update category here\" className=\"container bg-info p-4\">\r\n         <Link to=\"/admin/dashboard\" className=\"btn btn-md btn-dark mb-4\"> Admin Home</Link>\r\n         <div className=\"row bg-dark text-white rounded\">\r\n         <div className=\"col-md-8 offset-md-2 mb-3 mt-3\">\r\n         {successMessage()}\r\n         {warningMessage()}\r\n          {createProductForm ()}\r\n         </div>\r\n         </div>\r\n        </Base>\r\n    )\r\n}\r\n\r\nexport default UpdateCategory;","const { API } = require(\"../../backend\");\r\n\r\n \r\nexport const getmeToken =(userid,token)=>{\r\n    return fetch(`${API}/payment/gettoken/${userid}`,{\r\n        method:\"GET\",\r\n        headers:{\r\n            Accept:\"application/json\",\r\n            \"Content-Type\":\"application/json\",\r\n            Authorization:`Bearer ${token}`\r\n\r\n        }\r\n    }).then(response=> {return response.json()})\r\n    .catch(err=> {return err.json()})\r\n}\r\n\r\nexport const processPayment=(userid,token,paymentInfo)=>{\r\n    return fetch(`${API}/payment/braintree/${userid}`,{\r\n        method:\"POST\",\r\n        headers:{\r\n            Accept:\"application/json\",\r\n            \"Content-Type\":\"application/json\",\r\n            Authorization:`Bearer ${token}`\r\n\r\n        },\r\n        body: JSON.stringify( paymentInfo)\r\n    }).then(response=> {return response.json()})\r\n    .catch(err=> {return err.json()})\r\n}","import React,{useState,useEffect} from 'react';\r\nimport { isAuthenticated } from '../auth/helper';\r\nimport { getmeToken, processPayment } from './helper/PaymentHelper';\r\nimport {Link} from 'react-router-dom'\r\nimport {createOrder} from './helper/OrderHelper'\r\nimport DropIn from 'braintree-web-drop-in-react';\r\nimport { loadCart, emptyCart } from './helper/cardHelper';\r\n\r\n\r\nconst PaymentB=({ products, setReload = f => f, reload = undefined })=>{\r\n\r\n    const [info, setInfo] = useState({\r\n        loading:false,\r\n        success:false,\r\n        clientToken:null,\r\n        error:\"\",\r\n        instance:{}\r\n    })\r\n       \r\n    const userId = isAuthenticated() &&isAuthenticated().user._id\r\n    const token = isAuthenticated() &&isAuthenticated().token\r\n\r\n    const getToken=(userId,token)=>{\r\n       \r\n        getmeToken(userId,token).then(info=>{\r\n            console.log(\"INFORMATION  \",info)\r\n            if(info.error){\r\n                setInfo({...info ,error:info.error})\r\n            }else{\r\n                const clientToken = info.clientToken\r\n                setInfo({clientToken})\r\n            }\r\n        })\r\n    }  \r\n    \r\n    useEffect(() => {\r\n        getToken(userId,token)\r\n    }, [])\r\n    \r\n    const onPurchase = () => {\r\n        setInfo({ loading: true });\r\n        let nonce;\r\n        let getNonce = info.instance.requestPaymentMethod().then(data => {\r\n          nonce = data.nonce;\r\n          const paymentData = {\r\n            paymentMethodNonce: nonce,\r\n            amount: getAmount()\r\n          };\r\n          processPayment(userId, token, paymentData)\r\n            .then(response => {\r\n              setInfo({ ...info, success: response.success, loading: false });\r\n              console.log(\"PAYMENT SUCCESS\");\r\n              const orderData ={\r\n                  products:products,\r\n                  transaction_id:response.transaction.id,\r\n                  amount:response.amount\r\n              }\r\n              createOrder(userId,token,orderData)\r\n\r\n              emptyCart(()=>{\r\n                  console.log(\"cart empty\")\r\n              })\r\n              \r\n              setReload(!reload)\r\n            })\r\n            .catch(error => {\r\n              setInfo({ loading: false, success: false });\r\n              console.log(\"PAYMENT FAILED\");\r\n            });\r\n        });\r\n      };\r\n    \r\n      const getAmount = () => {\r\n        let amount = 0;\r\n        products.map(p => {\r\n          amount = amount + p.price;\r\n        });\r\n        return amount;\r\n      };\r\n    \r\n\r\n    const showDropin=()=>{\r\n        return (\r\n            <div>\r\n            {info.clientToken!==null && products.length > 0?(\r\n                <div>\r\n                <DropIn\r\n                  options={{ authorization: info.clientToken }}\r\n                  onInstance={(instance) => (info.instance = instance)}\r\n                />\r\n                <button className=\"btn btn-block btn-success\" onClick={onPurchase}>Buy</button>\r\n              </div>\r\n\r\n            ):(<h3 className=\"text-white\">please login</h3>)}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    \r\n\r\n\r\n    return(\r\n        <div>\r\n        <h3>Your bill amount is {getAmount()} $</h3>\r\n        {showDropin()}\r\n        </div>\r\n        \r\n    )\r\n\r\n}\r\n\r\nexport default PaymentB;","import { API } from \"../../backend\"\r\n\r\n\r\nexport const createOrder =(userid,token,orderData)=>{\r\n    return fetch(`${API}/order/create/${userid}`,{\r\n        method:\"POST\",\r\n            headers:{\r\n\r\n                Accept:\"application/json\",\r\n                \"Content-Type\":\"application/json\",\r\n                Authorization:`Bearer ${token}`\r\n            },\r\n            body:JSON.stringify({order:orderData})\r\n        \r\n       \r\n    }).then(response =>{\r\n        return response.json();\r\n    }).catch(error => console.log(error ))\r\n}","import React ,{useState,useEffect}from 'react';\r\nimport Base from '../core/Base'\r\n\r\nimport {API } from \"../backend\"\r\nimport Card from './card';\r\nimport { getAllProducts } from './helper/coreapicalls';\r\nimport { loadCart } from './helper/cardHelper';\r\nimport PaymentB from './Paymentb';\r\n\r\n\r\nexport default function Cart(){\r\n    \r\n    const [products, setProducts] = useState([])\r\n    const [reload, setReload] = useState(false)\r\n    \r\n     useEffect(() => {\r\n        setProducts(loadCart())\r\n     }, [reload])\r\n\r\n    const loadAllProucts =(products)=>{\r\n        \r\n        \r\n        return (\r\n            <div >\r\n            <h2>load products</h2>\r\n            {products.map((product,index)=>{\r\n              return (\r\n                <Card \r\n                key={index}\r\n                product={product}\r\n                addtocart={false}\r\n                removefromCart={true} \r\n                reload={reload}\r\n                setReload={setReload}\r\n                />\r\n                \r\n              )})}\r\n              \r\n            </div>\r\n        )\r\n    }\r\n\r\n    const loadCheckout =()=>{\r\n        return (\r\n            <div>\r\n            <h2>checkout</h2></div>\r\n        )\r\n    }\r\n    return (\r\n        <Base title=\"Cart Page\" description=\"Checkout\">\r\n        <div className=\"row text-center\">\r\n        <div className=\"col-6\">\r\n          {products.length > 0 ? (\r\n            loadAllProucts(products)\r\n          ) : (\r\n            <h4>No products</h4>\r\n          )}\r\n        </div>\r\n        <div className=\"col-6\">\r\n          <PaymentB products={products} setReload={setReload} />\r\n        </div>\r\n      </div>\r\n\r\n      </Base>\r\n  \r\n    )\r\n}","import React from 'react';\r\nimport  { BrowserRouter,Route,Switch } from 'react-router-dom';\r\n\r\nimport Home from \"./core/Home\"\r\nimport SignUp from './user/Signup';\r\nimport SignIn from './user/Signin';\r\nimport AdminRoute from './auth/helper/AdminRoutes';\r\n\r\nimport UserDashBoard from './user/UserDashBoard';\r\nimport AdminDashBoard from './user/AdminDashBoard';\r\nimport PrivateRoute from './auth/helper/PrivateRoutes';\r\nimport AddCategory from './admin/AddCategory';\r\n\r\nimport AddProduct from './admin/AddProduct';\r\nimport ManageProducts from './admin/ManageProducts';\r\nimport UpdateProduct from './admin/UpdateProduct';\r\nimport ManageCategory from './admin/ManageCategories';\r\nimport { deleteCategory } from './admin/helper/adminapicall';\r\nimport UpdateCategory from './admin/UpdateCategory';\r\nimport Cart from './core/cart';\r\n\r\n\r\n\r\n\r\n\r\nconst Routes=()=>{\r\n  return (\r\n    <BrowserRouter>\r\n    <Switch>\r\n    <Route path=\"/\" exact component={Home}/>\r\n    <Route path=\"/signup\" exact component={SignUp}/>\r\n    <Route path=\"/signin\" exact component={SignIn}/>\r\n    <Route path=\"/cart\" exact component={Cart}/>\r\n\r\n    <PrivateRoute path=\"/user/dashboard\" exact component={UserDashBoard}/>\r\n    <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashBoard}/>\r\n    <AdminRoute path=\"/admin/create/category\" exact component={AddCategory}/>\r\n    <AdminRoute path=\"/admin/categories\" exact component={ManageCategory}/>\r\n    <AdminRoute path=\"/admin/create/product\" exact component={AddProduct}/>\r\n    <AdminRoute path=\"/admin/products\" exact component={ManageProducts}/>\r\n    <AdminRoute path=\"/admin/category/:categoryId/:userId\" exact component={deleteCategory}/>\r\n\r\n    \r\n    <AdminRoute path=\"/admin/product/update/:productId\" exact component={UpdateProduct}/>\r\n    <AdminRoute path=\"/admin/category/:categoryId\" exact component={UpdateCategory}/>\r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n    </Switch> \r\n    \r\n    </BrowserRouter>\r\n  )\r\n}\r\n\r\nexport default Routes;\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom'\r\nimport Routes from './Routes'\r\n\r\nReactDOM.render(<Routes/>,document.getElementById(\"root\"));"],"sourceRoot":""}